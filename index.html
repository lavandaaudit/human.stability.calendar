<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>ibonarium.stability.human.lab.live</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{margin:0;padding:0;box-sizing:border-box}
html,body{
width:100%;
height:100%;
background:#000;
color:#cfefff;
font-family:Inter,monospace
}

#stars{position:fixed;inset:0;z-index:0}

#ui{
position:relative;
z-index:2;
display:grid;
grid-template-columns:420px 1fr;
height:100vh;
min-height:0;
}

#left{
padding:18px;
overflow-y:auto;
min-height:0;
}

h1{font-size:14px;letter-spacing:3px;opacity:.7;margin-bottom:12px}
.section{margin-bottom:18px}
.section h2{font-size:11px;opacity:.6;margin-bottom:6px}

.indicator{
display:flex;justify-content:space-between;
padding:6px 8px;margin-bottom:4px;
font-size:12px;
background:rgba(255,255,255,.04);
border-left:4px solid #333
}
.green{border-color:#00ff88;color:#9affd1}
.yellow{border-color:#ffcc00;color:#fff3a0;animation:pulse 2s infinite}
.red{border-color:#ff3344;color:#ffb3b8;animation:pulse 1s infinite}

@keyframes pulse{0%{opacity:.6}50%{opacity:1}100%{opacity:.6}}

#system{
margin-top:20px;
padding:12px;
text-align:center;
font-size:16px;
border:1px solid rgba(255,255,255,.25)
}

/* üî• –ö–õ–Æ–ß–û–í–ï –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø –¢–£–¢ */
#charts{
padding:16px;
display:grid;
grid-template-columns:repeat(3,1fr);
grid-template-rows:repeat(4,1fr);
grid-auto-rows:minmax(0,1fr);
gap:10px;
height:100%;
min-height:0;
}

canvas.chart{
width:100%!important;
height:100%!important;
min-height:0;
background:rgba(255,255,255,.03);
border:1px solid rgba(255,255,255,.08)
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div id="ui">
<div id="left">
<h1>IBONARIUM ¬∑ STABILITY MATRIX</h1>

<div class="section"><h2>COSMOS</h2><div id="cosmos"></div></div>
<div class="section"><h2>PLANET</h2><div id="planet"></div></div>
<div class="section"><h2>ECONOMY</h2><div id="economy"></div></div>
<div class="section"><h2>SOCIAL</h2><div id="social"></div></div>

<div id="system"></div>
</div>

<div id="charts">
<canvas class="chart"></canvas><canvas class="chart"></canvas><canvas class="chart"></canvas>
<canvas class="chart"></canvas><canvas class="chart"></canvas><canvas class="chart"></canvas>
<canvas class="chart"></canvas><canvas class="chart"></canvas><canvas class="chart"></canvas>
<canvas class="chart"></canvas><canvas class="chart"></canvas><canvas class="chart"></canvas>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1"></script>

<script>
/* STARFIELD */
const sc=document.getElementById("stars"),ctx=sc.getContext("2d");
let stars=[];
function resize(){
sc.width=innerWidth;sc.height=innerHeight;
stars=Array.from({length:400},()=>({
x:Math.random()*innerWidth-innerWidth/2,
y:Math.random()*innerHeight-innerHeight/2,
z:Math.random()*innerWidth
}))
}
addEventListener("resize",resize);resize();
function draw(){
ctx.fillStyle="#000";ctx.fillRect(0,0,sc.width,sc.height);
ctx.translate(sc.width/2,sc.height/2);
stars.forEach(s=>{
s.z-=1.2;if(s.z<1)s.z=sc.width;
const k=120/s.z;
ctx.fillStyle="#fff";
ctx.fillRect(s.x*k,s.y*k,1,1);
});
ctx.setTransform(1,0,0,1,0,0);
requestAnimationFrame(draw)
}
draw();

/* CORE */
const charts=[],buffers=Array.from({length:12},()=>[]);
document.querySelectorAll(".chart").forEach((c,i)=>{
charts[i]=new Chart(c,{
type:"line",
data:{labels:[],datasets:[{
data:[],
borderColor:"#00ffff",
borderWidth:1,
pointRadius:0
}]},
options:{
responsive:true,
maintainAspectRatio:false,
animation:false,
plugins:{legend:{display:false}},
scales:{x:{display:false},y:{display:false}}
}
})
});
function push(i,v){
const b=buffers[i];
b.push(v);if(b.length>60)b.shift();
charts[i].data.labels=b.map(()=> "");
charts[i].data.datasets[0].data=b;
charts[i].update("none");
}

/* DATA (–∫–æ—Ä–æ—Ç–∫–æ, —Å—Ç–∞–±—ñ–ª—å–Ω–æ) */
const values=[];
const level=v=>v<.4?"green":v<.7?"yellow":"red";
const add=(el,n,v)=>{
values.push(v);
const d=document.createElement("div");
d.className=`indicator ${level(v)}`;
d.innerHTML=`<span>${n}</span><span>${v.toFixed(2)}</span>`;
el.appendChild(d)
}

async function tick(){
values.length=0;
cosmos.innerHTML=planet.innerHTML=economy.innerHTML=social.innerHTML="";
["Solar Wind","Density","IMF","Kp"].forEach((n,i)=>{add(cosmos,n,Math.random());push(i,Math.random())});
["Pressure","Wind","EQ","Seismic"].forEach((n,i)=>{add(planet,n,Math.random());push(i+4,Math.random())});
["BTC","ETH","Fear","Stress"].forEach((n,i)=>{add(economy,n,Math.random());push(i+8,Math.random())});
["Conflict","Density","Media","Stress","Global"].forEach(n=>add(social,n,Math.random()));
const avg=values.reduce((a,b)=>a+b,0)/values.length;
system.textContent="SYSTEM STATE: "+(avg<.4?"STABLE":avg<.7?"TRANSITION":"CRITICAL");
system.className=level(avg);
}

const cosmos=document.getElementById("cosmos");
const planet=document.getElementById("planet");
const economy=document.getElementById("economy");
const social=document.getElementById("social");
const system=document.getElementById("system");

tick();
setInterval(tick,60000);
</script>

</body>
</html>
